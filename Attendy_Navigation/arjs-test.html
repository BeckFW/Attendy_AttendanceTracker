<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>


<style>
  .arjs-loader {
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .arjs-loader div {
    text-align: center;
    font-size: 1.25em;
    color: white;
  }
</style>

<body style="margin : 0px; overflow: hidden;">
  <!-- minimal loader shown until image descriptors are loaded -->
  <!--<div class="arjs-loader">
    <div>Loading, please wait...</div>
  </div>-->
  
  <div  style="background-color: grey; width: 100%; height: 10%; margin-top: 100px;">
    <h1 id="test" style="z-index: 9999999; position: fixed; left: 0; color: white; font-size: x-large;"></h1>
  </div>

  <a-scene embedded arjs="sourceType: webcam; detectionMode: mono;">
    <!-- Define your image marker -->
    <a-marker preset="custom" type="pattern" url="image_descriptors/pattern-C1-Logo.patt" name="C1">
        <!-- Add your 3D content here -->
        <!--<a-box position="0 0.5 0" material="color: red;"></a-box>-->
    </a-marker>
    <a-marker preset="custom" type="pattern" url="image_descriptors/pattern-C2-Logo.patt" name="C2">
        <!-- Add your 3D content here -->
        <!--<a-box position="0 0.5 0" material="color: red;"></a-box>-->
    </a-marker>
</a-scene>

<script>

    document.querySelector('#test').innerHTML = "No markers visible";

    // Get a reference to the AR.js scene
    const scene = document.querySelector('a-scene');

    // Add an event listener for when an image is detected
    scene.addEventListener('markerFound', (event) => {
        // Log something to the console when an image is detected
        document.querySelector('#test').innerHTML = `${event.target.getAttribute('name')} Marker Detected`;
        console.log('Image detected:', event.target.getAttribute('name'));
    });

    scene.addEventListener('markerLost', (event) => {
        document.querySelector('#test').innerHTML = "No markers visible";
    })
    
</script>

</body>